    const URL_MP3 = "zero.mp3";
    const audio = document.getElementById("audio");
    const status = document.getElementById("status");
    const subtitle = document.querySelector(".subtitle");

    let loaded = false;

    function setStatus(t){ status.textContent = t; }

    function doLoad(){
      if (loaded && audio.src) return;
      loaded = true;
      audio.src = URL_MP3;
      subtitle.textContent = "Buffering...";
    }

    document.getElementById("load").addEventListener("click", doLoad);

    document.getElementById("play").addEventListener("click", async () => {
      try{
        if(!loaded) doLoad();
        await audio.play();
        setStatus("");
        subtitle.textContent = "Playing";
      } catch(e){
        setStatus("Playback blocked. Click play again.");
        subtitle.textContent = "Paused";
      }
    });

    document.getElementById("pause").addEventListener("click", () => {
      audio.pause();
      subtitle.textContent = "Paused";
    });

    document.getElementById("retry").addEventListener("click", () => {
      loaded = false;
      audio.removeAttribute("src");
      audio.load();
      setStatus("");
      subtitle.textContent = "Click play to load";
    });

    audio.addEventListener("waiting", () => subtitle.textContent = "Buffering...");
    audio.addEventListener("canplay", () => {
        if(audio.paused) subtitle.textContent = "Ready";
        setStatus("");
    });
    audio.addEventListener("play", () => subtitle.textContent = "Playing");
    audio.addEventListener("pause", () => subtitle.textContent = "Paused");
    audio.addEventListener("error", () => {
        setStatus("Audio failed to load.");
        subtitle.textContent = "Error";
    });
