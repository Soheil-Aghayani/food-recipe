<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Start Page</title>

  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />

  <style>
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: "Vazirmatn", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background: url("https://s8.uupload.ir/files/download_0b5s.jpg") no-repeat center center fixed;
      background-size: cover;
      overflow:hidden;
      user-select:none;
    }

    .overlay{
      position:absolute;
      inset:0;
      background: rgba(0,0,0,0.08);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .wrap{
      position: relative;
      z-index: 1;
      height: 100%;
      display:flex;
      flex-direction: column;
      align-items:center;
      justify-content:center;
      padding: 18px;
      box-sizing:border-box;
    }

    .search{
      width: min(720px, 92vw);
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 18px;
      background: rgba(255,255,255,0.72);
      border: 1px solid rgba(255,255,255,0.30);
      box-shadow: 0 18px 40px rgba(0,0,0,0.18);
    }

    .search input{
      border:0;
      outline:none;
      background: transparent;
      width: 100%;
      font-size: 14px;
      padding: 6px 4px;
      user-select: text;
    }

    .grid{
      width: min(780px, 92vw);
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 14px;
      margin-top: 18px;
    }

    .tile{
      border: 1px solid rgba(0,0,0,0.08);
      background: rgba(255,255,255,0.72);
      border-radius: 16px;
      padding: 14px 12px;
      cursor: pointer;
      display:flex;
      flex-direction: column;
      align-items:center;
      gap: 10px;
      box-shadow: 0 14px 28px rgba(0,0,0,0.12);
    }
    .tile:active{ transform: scale(0.99); }

    .tile img{
      width: 44px;
      height: 44px;
      object-fit: contain;
      filter: drop-shadow(0 6px 14px rgba(0,0,0,0.18));
    }

    .tile .label{
      font-size: 12px;
      color: rgba(0,0,0,0.72);
      text-align:center;
    }

    @media (max-width: 560px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
  </style>
</head>

<body>
  <div class="overlay"></div>

  <div class="wrap">
    <div class="search">
      <input id="q" type="text" placeholder="Search with Sohgle" autocomplete="off" spellcheck="false">
    </div>

    <div class="grid">
      <button class="tile" type="button" data-go="sohgle">
        <img alt="Sohgle" src="https://s8.uupload.ir/files/sohgle_mh26.png">
        <div class="label">Sohgle</div>
      </button>

      <button class="tile" type="button" data-app="finder" data-view="projects">
        <img alt="Projects" src="https://s8.uupload.ir/files/finder_macos_bigsur_icon_190173_8v55.png">
        <div class="label">Projects</div>
      </button>

      <button class="tile" type="button" data-app="igithub">
        <img alt="iGithub" src="https://s8.uupload.ir/files/github_alt_macos_bigsur_icon_190139_sf6w.png">
        <div class="label">iGithub</div>
      </button>

      <button class="tile" type="button" data-app="music">
        <img alt="Music" src="https://s8.uupload.ir/files/apple_music_macos_bigsur_icon_190383_q9sn.png">
        <div class="label">Music</div>
      </button>
    </div>
  </div>

  <script>
    function post(msg){
      window.parent.postMessage(msg, "*");
    }

    document.querySelectorAll("[data-go]").forEach((b) => {
      b.addEventListener("click", () => {
        const go = b.getAttribute("data-go");
        post({ type: "safari:navigate", url: go });
      });
    });

    document.querySelectorAll("[data-app]").forEach((b) => {
      b.addEventListener("click", () => {
        const app = b.getAttribute("data-app");
        const view = b.getAttribute("data-view");
        post({ type: "os:openApp", app, view });
      });
    });

    const q = document.getElementById("q");
    q.addEventListener("keydown", (e) => {
      if (e.key !== "Enter") return;
      const val = q.value.trim();
      post({ type: "safari:navigate", url: "sohgle?q=" + encodeURIComponent(val) });
      q.blur();
    });
  </script>
</body>
</html>
